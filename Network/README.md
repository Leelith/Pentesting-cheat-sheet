# Network sniffing/analysis
Quick reminder on some useful commands on TCPDump [here](https://gist.github.com/tuxfight3r/9ac030cb0d707bb446c7).

# Pivoting
**an awesome guide on pivoting** : [A Red Teamer's guide to pivoting](https://artkond.com/2017/03/23/pivoting-guide/).
**SANS PDF on pivoting**: https://www.sans.org/reading-room/whitepapers/testing/tunneling-pivoting-web-application-penetration-testing-36117

Good explanation [here](https://www.booleanworld.com/guide-ssh-port-forwarding-tunnelling/). Useful content below:
* http://technologyordie.com/ssh-tunneling-and-proxying
* https://chamibuddhika.wordpress.com/2012/03/21/ssh-tunnelling-explained/
* https://www.revsys.com/writings/quicktips/ssh-tunnel.html
* http://www.pc-freak.net/blog/creating-ssh-tunnel-windows-plink/
* **tool** SSHuttle: https://github.com/sshuttle/sshuttle
* https://www.cybrary.it/0p3n/pivot-network-port-forwardingredirection-hands-look/

## Local port forwarding
```
ssh -L 4000:127.0.0.1:3306 user@example.com
```
SSH will bind to port 4000 on your computer. Any traffic that comes to this port is sent to the SSH server. Then, the traffic received is sent to port 3306 of 127.0.0.1, which is the server itself.

### Forward multiple sets of port in a single command
```
ssh -L 5901:127.0.0.1:5901 -L 4000:127.0.0.1:3306 user@example.com
```


### Host discovery through proxychains
You cannot use any scan other than TCP. All nmap options are not compatible with proxychains
```
$ proxychains nmap -nvv -Pn -n -sT <target IP/subnet> --top-port 10/20
```

# CrackMapExec
Very useful tool to see if an account can connect on other computers on the network. Very useful on the OSCP Labs ;) https://www.securenetworkinc.com/news/2017/8/22/crackmapexec-the-greatest-tool-youve-never-heard-of

This Github repository of the author of CrackMapExec has very useful tools for pen-tester : https://github.com/byt3bl33d3r
